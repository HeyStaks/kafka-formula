{% from 'kafka/map.jinja' import kafka with context -%}

description "Kafka broker service"

start on runlevel [2345]
stop on [!12345]

respawn
respawn limit 2 5

limit nofile 32768 32768

umask 007

kill timeout 300

env KAFKA_HOME={{ kafka.home }}

setuid {{ kafka.user }}
setgid {{ kafka.group }}

#chdir {{ kafka.home }}

exec $KAFKA_HOME/bin/kafka-server-start.sh $KAFKA_HOME/config/server.properties
