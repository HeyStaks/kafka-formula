{% from 'kafka/map.jinja' import kafka as k with context -%}
tickTime=2000
initLimit=10
syncLimit=5
dataDir={{ k.zookeeper.data_dir }}
clientPort={{ k.zookeeper.client_port }}
{%- if k.zookeeper.snap_count != 'None' %}
snapCount={{ k.zookeeper.snap_count }}
{%- endif %}
autopurge.snapRetainCount={{ k.zookeeper.snap_retain_count }}
{%- if k.zookeeper.purge_interval != 'None' %}
autopurge.purgeInterval={{ k.zookeeper.purge_interval }}
{%- endif %}
{%- if k.zookeeper.max_client_cnxns != 'None' %}
maxClientCnxns={{ k.zookeeper.max_client_cnxns }}
{%- endif %}
{%- if k.ips|length() == 1 %}
clientPortAddress={{ k.zookeeper.bind_address }}
{%- else %}
{%- for id, myid in k.zk_myids.iteritems() %}
server.{{ myid }}={{ k.ips[id][0] }}:2888:3888
{%- endfor %}
{%- endif %}
